<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html [
  <!ENTITY % htmlDTD
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
  %htmlDTD;
  <!ENTITY % netErrorDTD
    SYSTEM "chrome://global/locale/netError.dtd">
  %netErrorDTD;
  <!ENTITY % tryAgainDTD
    SYSTEM "chrome://tryagain/locale/tryagain.dtd">
  %tryAgainDTD;
  <!ENTITY % globalDTD
    SYSTEM "chrome://global/locale/global.dtd">
  %globalDTD;
]>

<!--***** BEGIN LICENSE BLOCK *****

    This file is part of TryAgain.

    TryAgain is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    TryAgain is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with TryAgain.  If not, see <http://www.gnu.org/licenses/>.

    ***** END LICENSE BLOCK ***** -->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>&loadError.label;</title>
    
    <link rel="stylesheet" href="chrome://global/skin/netError.css" type="text/css" media="all" />
    <!-- If the location of the favicon is changed here, the FAVICON_ERRORPAGE_URL symbol in
         toolkit/components/places/src/nsFaviconService.h should be updated. -->
    <link rel="icon" type="image/png" id="favicon" href="chrome://global/skin/icons/warning-16.png"/>

    <style type="text/css">
    #errorControls {
        background-image: url("chrome://tryagain/skin/biglogo.png");
        background-repeat: no-repeat;
        background-position: right bottom;
        margin: 0;
        padding: 0;
    }
    .tryagain {
        margin-right: 130px;
    }
    #tryagainCaches {
        border-bottom: 1px solid threedlightshadow;
        font-size: 110%;
        padding-bottom: 1em;
        margin-bottom: 1em;
    }
    </style>
    
    <script type="application/x-javascript" id="tryAgainVars"></script>
    <script type="text/javascript" src="chrome://tryagain/content/netError.js"/>
  </head>

  <body dir="&locale.dir;">

    <!-- ERROR ITEM CONTAINER (removed during loading to avoid bug 39098) -->

    <div id="errorContainer">
      <div id="errorTitlesContainer">
        <h1 id="et_generic">&generic.title;</h1>
        <h1 id="et_dnsNotFound">&dnsNotFound.title;</h1>
        <h1 id="et_fileNotFound">&fileNotFound.title;</h1>
        <h1 id="et_malformedURI">&malformedURI.title;</h1>
        <h1 id="et_protocolNotFound">&protocolNotFound.title;</h1>
        <h1 id="et_connectionFailure">&connectionFailure.title;</h1>
        <h1 id="et_netTimeout">&netTimeout.title;</h1>

        <h1 id="et_redirectLoop">&redirectLoop.title;</h1>
        <h1 id="et_unknownSocketType">&unknownSocketType.title;</h1>
        <h1 id="et_netReset">&netReset.title;</h1>
        <h1 id="et_netOffline">&netOffline.title;</h1>
        <h1 id="et_netInterrupt">&netInterrupt.title;</h1>
        <h1 id="et_deniedPortAccess">&deniedPortAccess.title;</h1>
        <h1 id="et_proxyResolveFailure">&proxyResolveFailure.title;</h1>
        <h1 id="et_proxyConnectFailure">&proxyConnectFailure.title;</h1>
        <h1 id="et_contentEncodingError">&contentEncodingError.title;</h1>

        <h1 id="et_unsafeContentType">&unsafeContentType.title;</h1>
        <h1 id="et_nssFailure2">&nssFailure2.title;</h1>
        <h1 id="et_nssBadCert">&nssBadCert.title;</h1>
        <h1 id="et_malwareBlocked">&malwareBlocked.title;</h1>
      </div>
      <div id="errorDescriptionsContainer">
        <div id="ed_generic">&generic.longDesc;</div>
        <div id="ed_dnsNotFound">&dnsNotFound.longDesc;</div>
        <div id="ed_fileNotFound">&fileNotFound.longDesc;</div>

        <div id="ed_malformedURI">&malformedURI.longDesc;</div>
        <div id="ed_protocolNotFound">&protocolNotFound.longDesc;</div>
        <div id="ed_connectionFailure">&connectionFailure.longDesc;</div>
        <div id="ed_netTimeout">&netTimeout.longDesc;</div>
        <div id="ed_redirectLoop">&redirectLoop.longDesc;</div>
        <div id="ed_unknownSocketType">&unknownSocketType.longDesc;</div>
        <div id="ed_netReset">&netReset.longDesc;</div>
        <div id="ed_netOffline">&netOffline.longDesc;</div>
        <div id="ed_netInterrupt">&netInterrupt.longDesc;</div>

        <div id="ed_deniedPortAccess">&deniedPortAccess.longDesc;</div>
        <div id="ed_proxyResolveFailure">&proxyResolveFailure.longDesc;</div>
        <div id="ed_proxyConnectFailure">&proxyConnectFailure.longDesc;</div>
        <div id="ed_contentEncodingError">&contentEncodingError.longDesc;</div>
        <div id="ed_unsafeContentType">&unsafeContentType.longDesc;</div>
        <div id="ed_nssFailure2">&nssFailure2.longDesc;</div>
        <div id="ed_nssBadCert">&nssBadCert.longDesc2;</div>
        <div id="ed_malwareBlocked">&malwareBlocked.longDesc;</div>
      </div>

    </div>

    <!-- PAGE CONTAINER (for styling purposes only) -->
    <div id="errorPageContainer">
    <div id="errorControls">
    
      <!-- Error Title -->
      <div id="errorTitle">
        <h1 id="errorTitleText" />
        <p id="retry_x_of_y"></p>
      </div>
      
      <!-- LONG CONTENT (the section most likely to require scrolling) -->

      <div id="errorLongContent">
      
        <!-- Short Description -->
        <div id="errorShortDesc">
          <p id="errorShortDescText" />
        </div>

        <!-- Long Description (Note: See netError.dtd for used XHTML tags) -->
        <div id="errorLongDesc" />
        
        <!-- Override section - For ssl errors only.  Removed on init for other
             error types.  -->

        <div id="securityOverrideDiv">
          <a id="securityOverrideLink" href="javascript:showSecuritySection();" >&securityOverride.linkText;</a>
          <div id="securityOverrideContent" style="display: none;">&securityOverride.warningContent;</div>
        </div>

        <div id="tryagainCaches" class="tryagain">
          <!--
          &text.trywithcache;
          -->
          <ul>
            <li id="status_downforeojm">
              <!-- filled dynamically -->
            </li>
            <li id="status_uptimeauditor">
              <!-- filled dynamically -->
            </li>
            <li>
              &text.viewwith; <a id="errorGoogleCache" href="javascript:gotoGoogleCache();">&text.googlecache;</a>
            </li>
            <li>
              &text.viewwith; <a id="errorWebArchive" href="javascript:gotoWayBackArchive();">&text.waybackcache;</a>
            </li>
          </ul>
        </div>

        <div id="tryagainContainer" class="tryagain">
            <div id="errorAutoRetry1">
                &text.ifatfirst;
                <span id="errorAutoRetry2" style="margin-left:1em; height:12px; font-size:80%; color:threedshadow;"></span>
            </div>
            <div id="errorAutoRetry3" style="height: 13px;"></div>
        </div>
      </div>

      <!-- TryAgain buttons -->
      <button id="errorIncrement" onclick="autoRetryThis();" style="display:none;"></button>
      <button id="errorTryAgain" onclick="retryThisExtended();">&retry.label;</button>
      <button id="errorStopRetry" onclick="stopRetry();">&text.stoptrying;</button>
    </div>
    </div>
  
    <!--
    - Note: It is important to run the script this way, instead of using
    - an onload handler. This is because error pages are loaded as
    - LOAD_BACKGROUND, which means that onload handlers will not be executed.
    -->
    <script type="application/x-javascript">
        initPage();
    </script>

  </body>
</html>
